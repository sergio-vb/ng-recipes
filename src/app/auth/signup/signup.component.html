<div class="row">
    <div class="col s4 offset-s4">
      <section class="sign-in card-panel">
          <i class="icon material-icons medium">account_circle</i>
          <h1>Create a New Account</h1>

          <form (ngSubmit)="onSignup(form)" #form="ngForm">
            <div class="row">
              <div class="input-field">
                <input 
                  #email="ngModel"
                  class="form-control" 
                  email
                  id="email" 
                  name="email" 
                  ngModel
                  required
                  type="email" 
                >
                <label for="email">Email</label>
                
                <div class="form-errors"
                  *ngIf="email.invalid && email.touched"
                >
                  <div *ngIf="email.errors.required">
                    Email is required.
                  </div>
                  <div *ngIf="email.errors.email && !email.errors.required">
                    Please enter a valid email.
                  </div>
                </div>
              </div>
            </div>

            <div 
              #passwordGroup="ngModelGroup"
              [ngClass]="{'confirmation-touched': passwordConfirmation.touched }"
              appPasswordConfirmation
              class="password-group"
              ngModelGroup="passwordGroup"
            >
              <div class="row">
                <div class="input-field">
                  <input 
                    #password="ngModel"
                    class="form-control" 
                    id="password" 
                    minlength="6"
                    name="password" 
                    ngModel
                    required
                    type="password" 
                  >
                  <label for="password">Password</label>

                  <div class="form-errors"
                    *ngIf="password.invalid && password.touched"
                  >
                    <div *ngIf="password.errors.required">
                      Password is required.
                    </div>
                    <div *ngIf="password.errors.minlength">
                      Password should be 6 characters long or more.
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="input-field">
                  <input 
                    #passwordConfirmation="ngModel"
                    class="form-control" 
                    id="password-confirmation" 
                    name="password-confirmation" 
                    ngModel
                    required
                    type="password" 
                  >
                  <label for="password-confirmation">Password Confirmation</label>
                  
                  <div class="form-errors"
                    *ngIf="passwordConfirmation.invalid && passwordConfirmation.touched"
                  >
                    <div *ngIf="passwordConfirmation.errors.required">
                      Password confirmation is required.
                    </div>
                  </div>

                </div>
              </div>

              <div class="form-errors"
                *ngIf="passwordGroup.invalid && passwordConfirmation.touched && !passwordConfirmation.errors?.required"
              >
                <div *ngIf="passwordGroup.errors?.passwordConfirmation">
                  Password confirmation doesn't match.
                </div>
              </div>

            </div>
          
            <button class="btn waves-effect waves-light" type="submit" name="action" [disabled]="!form.valid">
              Register<i class="material-icons right">send</i>
            </button>
          </form>
          <a class="register clickable"  routerLink="/signin">Already have an account? Log in here</a>
          
        </section>
    </div>
  </div>